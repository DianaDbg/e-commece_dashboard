<div class="profile-box">
  <h3>User Profile</h3>
  <form [formGroup]="userForm" (ngSubmit)="updateProfile()">
    <div class="profile-image">
      <div class="profilepic">
        <img
          class="profilepic__image"
          src="../../../../assets/Image-0.png"
          width="150"
          height="150"
          alt="Profibild"
        />
        <div class="profilepic__content">
          <span class="profilepic__icon"><mat-icon>add_a_photo</mat-icon></span>
          <span class="profilepic__text">Edit Profile</span>
          <input
            type="file"
            class="upload"
            name="profile_picture"
            (change)="handleFile($event)"
          />
        </div>
      </div>
    </div>

    <h4>Personal Information</h4>
    <div class="user-infos">
      <mat-form-field class="form-field" appearance="outline" color="accent">
        <mat-label> First Name </mat-label>
        <input matInput formControlName="first_name" type="text" required />
      </mat-form-field>

      <mat-form-field class="form-field" appearance="outline" color="accent">
        <mat-label> Last Name </mat-label>
        <input matInput formControlName="last_name" type="text" required />
      </mat-form-field>
    </div>

    <div class="user-infos">
      <mat-form-field class="form-field" appearance="outline" color="accent">
        <mat-label> Username </mat-label>
        <input matInput formControlName="username" type="username" required />
      </mat-form-field>

      <mat-form-field appearance="outline" class="mr-4">
        <mat-label>Gender</mat-label>
        <mat-select id="gender" formControlName="gender" required>
          <mat-option
            *ngFor="let gender of genders | keyvalue"
            [value]="gender.value"
            >{{ gender.key }}</mat-option
          >
        </mat-select>
      </mat-form-field>
    </div>

    <div class="user-infos">
      <mat-form-field
        class="form-field email"
        appearance="outline"
        color="accent"
      >
        <mat-label> Email </mat-label>
        <input matInput formControlName="email" type="text" required />
      </mat-form-field>
    </div>

    <div class="user-infos">
      <mat-form-field class="form-field" appearance="outline" color="accent">
        <mat-label> Password </mat-label>
        <input
          matInput
          formControlName="password"
          [type]="hide ? 'password' : 'text'"
          required
        />
        <button
          mat-icon-button
          matSuffix
          (click)="hide = !hide"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hide"
        >
          <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
        </button>
      </mat-form-field>

      <mat-form-field class="form-field" appearance="outline" color="accent">
        <mat-label> Confirm Password </mat-label>
        <input
          matInput
          formControlName="confirm_password"
          [type]="hide ? 'password' : 'text'"
          type="password"
          required
        />
        <button
          mat-icon-button
          matSuffix
          (click)="hide = !hide"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hide"
        >
          <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
        </button>
      </mat-form-field>
    </div>

    <div class="user-adress">
      <h4>Admin Adress</h4>
      <div class="user-infos">
        <mat-form-field appearance="outline" class="mr-4">
          <mat-label for="zipcode">Zip Code</mat-label>
          <input
            matInput
            type="text"
            id="zipcode"
            formControlName="zipcode"
            placeholder="Zip Code"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="outline" class="mr-4">
          <mat-label>Select Country</mat-label>
          <mat-select id="country" formControlName="country" required>
            <mat-option
              *ngFor="let country of countries"
              [value]="country.code"
              >{{ country.name }}</mat-option
            >
          </mat-select>
        </mat-form-field>
      </div>
      <div class="user-infos">
        <mat-form-field appearance="outline">
          <mat-label for="state">State</mat-label>
          <input
            matInput
            type="text"
            id="state"
            formControlName="state"
            placeholder="State"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="outline" class="mr-4">
          <mat-label for="city">City</mat-label>
          <input
            matInput
            type="text"
            id="city"
            formControlName="city"
            placeholder="City"
            required
          />
        </mat-form-field>
      </div>
      <div class="user-infos">
        <mat-form-field appearance="outline" class="street">
          <mat-label for="street">Street</mat-label>
          <input
            matInput
            type="text"
            id="street"
            formControlName="street"
            placeholder="Street"
            required
          />
        </mat-form-field>
      </div>
    </div>

    <div class="submit-btn">
      <button type="submit" mat-raised-button color="accent" class="btn-update">
        Update
      </button>
    </div>
  </form>
</div>
